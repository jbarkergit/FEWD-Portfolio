@use '/src/sass/functions' as f;
@use '/src/portfolio/scss/portfolioStyles' as m;

.projectDetails {
  position: relative;
  display: flex;
  gap: m.$portfolio-gap;
  height: 100vh;
  background-size: cover;
  background-position: center center;
  & > * {
    height: 100%;
    overflow: hidden;
  }
  &__general {
    padding: calc(m.$box-model-viewport-x / 2) calc(m.$portfolio-gap * 2) calc(m.$box-model-viewport-x / 2) m.$box-model-viewport-x;
    flex: 0 1 25%;
    display: flex;
    flex-direction: column;
    gap: m.$portfolio-gap;
    &__header {
      align-self: start;
      height: 35%;
      & div {
        display: flex;
        flex-direction: column;
        & span {
          font-size: calc(2.6em / 1.5);
          font-weight: 600;
          text-transform: uppercase;
          line-height: 125%;
          text-align: start;
        }
      }
    }
    &__return {
      height: 5%;
    }
    &__technology {
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      gap: calc(m.$portfolio-gap / 1.5);
      height: 60%;
      &__tech {
        display: table;
        text-transform: capitalize;
        &--type {
          display: block;
          width: 100%;
          padding-bottom: f.rem(1.5);
          font-weight: 600;
        }
      }
    }
  }
  &__projects {
    flex: 0 1 25%;
    height: 100vh;
    padding: calc(m.$box-model-viewport-x / 2) 0;
    overflow: clip;
    cursor: grab;
    &:active {
      cursor: grabbing;
    }
    &__slider {
      display: flex;
      flex-direction: column;
      height: max-content;
      & figure {
        display: block;
        transition:
          filter 350ms ease-in-out,
          transform 350ms ease-in-out,
          transform-origin 350ms ease-in-out;
        &[data-status='disabled'] {
          transform: scale(0.8);
          transform-origin: bottom;
          filter: grayscale(85%) sepia(80%) brightness(65%) opacity(80%);
        }
        & picture {
          position: relative;
          width: 100%;
          height: auto;
          aspect-ratio: 4/5;
          overflow: hidden;
          &::before {
            content: '';
            position: absolute;
            top: 5%;
            left: 5%;
            display: block;
            width: 90%;
            height: 90%;
            z-index: -1;
            background: rgba(#000000, 0.5);
            box-shadow: 0 6px 12px 12px rgba(#000000, 0.4);
            transform: skewX(0.001deg);
            transform-origin: top center;
            transition: transform 0.35s ease-in-out;
          }
          &::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            display: block;
            width: 100%;
            height: 120%;
            z-index: 4;
            background: linear-gradient(226deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.4) 35%, rgba(255, 255, 255, 0.2) 42%, rgba(255, 255, 255, 0) 60%);
            transform: translateY(-20%);
            transition: transform 0.65s cubic-bezier(0.18, 0.9, 0.58, 1);
          }
          & img {
            height: 100%;
          }
          & figcaption {
            display: none;
          }
        }
      }
    }
  }
  &__insights {
    flex: 1 0 50%;
    display: flex;
    overflow-y: scroll;
    padding-right: m.$box-model-viewport-x;
    &__projectOverview {
      display: flex;
      flex-direction: column;
      gap: m.$portfolio-gap;
      width: clamp(45ch, 100%, 75ch);
      padding: calc(m.$box-model-viewport-x / 2) 0 0 calc(m.$portfolio-gap * 2);
      user-select: text;
      cursor: text;
      & h2 {
        font-size: 2.6em;
        line-height: 115%;
      }
      & p:last-child {
        padding-bottom: calc(m.$box-model-viewport-x / 2);
      }
    }
  }
}
