@use '/app/ecommerce/scss/ecommerceStyles' as m;
@use '/app/base/sass/functions' as f;

.modalWrapper {
  position: fixed;
  top: 0;
  width: 100%;
  height: 100svh;
  z-index: 20;
  pointer-events: all;
  transition:
    background-color 250ms ease-in-out,
    backdrop-filter 250ms ease-in-out;
  &[data-status='active'] {
    background-color: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(5px);
  }
  @media (width < 780px) {
    margin: 0;
  }
}

.ecoModal {
  position: absolute;
  top: 15%;
  right: 0;
  display: grid;
  place-items: center;
  gap: f.rem(10);
  width: f.rem(480);
  height: 80svh;
  z-index: 13;
  padding: f.rem(50);
  border-radius: var(--ec-border-radius);
  margin: 0 8.335%;
  background: var(--ec-background-gradientMono);
  overflow-y: auto;
  scrollbar-width: none;
  transform: translateX(50%);
  opacity: 0;
  pointer-events: none;
  transition:
    transform 250ms ease-in,
    opacity 250ms ease-in;
  @media (width <= 778px) {
    top: 0;
    left: 0;
    width: 100%;
    min-width: auto;
    max-width: 100%;
    height: 100%;
    padding: 10%;
    border-radius: 0;
  }
  @media (width < 780px) {
    margin: 0;
  }
  &[data-status='active'] {
    transform: translateX(0);
    opacity: 1;
    pointer-events: all;
  }
}

.ecoModal__container {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 100%;
  overflow: hidden;
  & > * {
    padding-bottom: var(--ec-gap);
  }
  & legend {
    padding-bottom: calc(var(--ec-gap) / 2);
    & h2 {
      width: 100%;
      font-size: clamp(f.rem(18), f.rem(22) + 1vw, f.rem(28));
      font-weight: 700;
      text-transform: uppercase;
    }
  }
  & p {
    text-align: center;
  }
  & fieldset {
    display: grid;
    place-items: center;
    gap: calc(var(--ec-gap) / 2.5);
    padding-bottom: calc(var(--ec-gap) / 1.5);
    width: 100%;
    cursor: default;
    & label {
      position: relative;
      width: 90%;
      height: auto;
      border-radius: calc(var(--ec-border-radius) / 4);
      background: var(--ec-background-primary);
      outline: 1px solid hsl(0, 0%, 86%);
      & input {
        width: 100%;
        height: inherit;
        min-height: f.rem(42);
        padding: 0 f.rem(12);
        border-top-left-radius: f.rem(6);
        border-bottom-left-radius: f.rem(6);
        color: rgb(0, 0, 0);
        box-shadow:
          2px 2px 4px #d1d9e6,
          -2px -2px 4px #f9f9f9;
        &:focus {
          box-shadow:
            inset 2px 2px 4px #d1d9e6,
            inset -2px -2px 4px #f9f9f9;
        }
      }
    }
  }

  #capitalize {
    text-transform: capitalize;
  }

  &__buttons {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: calc(var(--ec-gap) / 4);
    width: 90%;
    padding-bottom: var(--ec-gap);
    & button {
      @include m.ecoBtn;
      @include m.ecoBtnDark;
      width: 99%;
      &:nth-of-type(2),
      &:nth-of-type(3) {
        width: 48%;
      }
    }
  }
  &__passkeys {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: f.rem(18);
    width: 100%;
    padding-bottom: 0;
    & button svg {
      font-size: f.rem(26);
    }
  }
  &__notice {
    position: absolute;
    bottom: 8%;
    padding: 0;
    pointer-events: none;
    text-align: center;
    & p {
      max-width: 30ch;
      font-size: f.rem(16);
      line-height: f.rem(18);
      color: var(--ec-font-primary);
    }
  }
}

.firstLastName {
  display: flex;
  gap: f.rem(12);
  width: 90%;
}

.passwordLabel {
  display: flex;
  &__visibility {
    padding: 0 f.rem(10);
    border-left: 2px solid hsl(0, 0%, 91%);
    border-top-right-radius: f.rem(6);
    border-bottom-right-radius: f.rem(6);
    box-shadow:
      2px 2px 4px #d1d9e6,
      -2px -2px 4px #f9f9f9;
    & svg {
      transform: translateY(10%);
    }
  }
}

#resetPassword {
  background-color: transparent;
  color: black;
}

.inputFieldErrorMessage {
  height: fit-content;
  & figcaption {
    display: none;
  }
  & p {
    max-width: 45ch;
    font-size: f.rem(16);
    line-height: f.rem(18);
    text-align: center;
  }
}
